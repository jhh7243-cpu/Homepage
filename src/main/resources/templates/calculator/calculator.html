<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≥ÑÏÇ∞Í∏∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 50%, #e9ecef 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .calculator-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 2px solid #dee2e6;
            max-width: 400px;
            width: 100%;
        }

        .calculator-title {
            text-align: center;
            color: #212529;
            margin-bottom: 30px;
            font-size: 28px;
            font-weight: bold;
        }

        /* Í≥ÑÏÇ∞Í∏∞ ÎîîÏä§ÌîåÎ†àÏù¥ */
        .display {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: right;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .display-text {
            font-size: 32px;
            font-weight: bold;
            color: #212529;
            font-family: 'Courier New', monospace;
            word-break: break-all;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
        }

        .display-expression {
            font-size: 16px;
            color: #6c757d;
            font-family: 'Courier New', monospace;
            margin-bottom: 5px;
            min-height: 20px;
        }

        /* Í≥ÑÏÇ∞Í∏∞ Î≤ÑÌäº Í∑∏Î¶¨Îìú */
        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        .calc-btn {
            background: #ffffff;
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 20px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #212529;
            font-family: 'Segoe UI', sans-serif;
            height: 70px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calc-btn:hover {
            background: #e9ecef;
            border-color: #adb5bd;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .calc-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        /* Ïó∞ÏÇ∞Ïûê Î≤ÑÌäº */
        .operator {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            border-color: #007bff;
            color: white;
        }

        .operator:hover {
            background: linear-gradient(135deg, #0056b3 0%, #004085 100%);
            border-color: #0056b3;
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.4);
        }

        /* Îì±Ìò∏ Î≤ÑÌäº */
        .equals {
            background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
            border-color: #28a745;
            color: white;
        }

        .equals:hover {
            background: linear-gradient(135deg, #1e7e34 0%, #155724 100%);
            border-color: #1e7e34;
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);
        }

        /* ÌÅ¥Î¶¨Ïñ¥ Î≤ÑÌäº */
        .clear {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            border-color: #dc3545;
            color: white;
        }

        .clear:hover {
            background: linear-gradient(135deg, #c82333 0%, #a93226 100%);
            border-color: #c82333;
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.4);
        }

        /* Î∞±Ïä§ÌéòÏù¥Ïä§ Î≤ÑÌäº */
        .backspace {
            background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);
            border-color: #6c757d;
            color: white;
        }

        .backspace:hover {
            background: linear-gradient(135deg, #5a6268 0%, #495057 100%);
            border-color: #5a6268;
            box-shadow: 0 4px 12px rgba(108, 117, 125, 0.4);
        }

        /* Î™®Îì† Î≤ÑÌäºÏù¥ ÎèôÏùºÌïú ÌÅ¨Í∏∞ */
        .zero {
            grid-column: span 1;
        }

        /* ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Î≤ÑÌäº */
        .nav-buttons {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn:hover {
            background: linear-gradient(135deg, #5568d3 0%, #6a4c93 100%);
            transform: translateY(-2px);
        }

        .logout-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }

        .logout-btn:hover {
            background: linear-gradient(135deg, #c0392b 0%, #a93226 100%);
        }

        .footer {
            text-align: center;
            color: #6c757d;
            margin-top: 20px;
            font-size: 14px;
        }


        /* Î∞òÏùëÌòï */
        @media (max-width: 480px) {
            .calculator-container {
                padding: 20px;
                margin: 10px;
            }

            .calculator-title {
                font-size: 24px;
            }

            .display-text {
                font-size: 24px;
            }

            .calc-btn {
                padding: 15px;
                font-size: 18px;
                min-height: 50px;
            }

            .nav-buttons {
                flex-direction: column;
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>

<body>
    <div class="nav-buttons">
        <a href="/dashboard" class="nav-btn">ÎåÄÏãúÎ≥¥Îìú</a>
        <a href="/logout" class="nav-btn logout-btn">Î°úÍ∑∏ÏïÑÏõÉ</a>
    </div>

    <div class="calculator-container">
        <h1 class="calculator-title">üßÆ Í≥ÑÏÇ∞Í∏∞</h1>

        <!-- Í≥ÑÏÇ∞Í∏∞ ÎîîÏä§ÌîåÎ†àÏù¥ -->
        <div class="display">
            <div class="display-expression" th:text="${expression != null ? expression : '0'}">0</div>
            <div class="display-text" th:text="${currentInput != null ? currentInput : '0'}">0</div>
        </div>


        <!-- Í≥ÑÏÇ∞Í∏∞ Î≤ÑÌäº -->
        <div class="calculator-buttons">
            <!-- Ï≤´ Î≤àÏß∏ Ìñâ -->
            <form action="/calculator/clear" method="post" style="display: inline;">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn clear">C</button>
            </form>
            
            <form action="/calculator/backspace" method="post" style="display: inline;">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn backspace">‚å´</button>
            </form>
            
            <form action="/calculator/operator" method="post" style="display: inline;">
                <input type="hidden" name="operator" value="/">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn operator">/</button>
            </form>
            
            <form action="/calculator/operator" method="post" style="display: inline;">
                <input type="hidden" name="operator" value="*">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn operator">√ó</button>
            </form>

            <!-- Îëê Î≤àÏß∏ Ìñâ -->
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="7">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">7</button>
            </form>
            
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="8">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">8</button>
            </form>
            
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="9">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">9</button>
            </form>
            
            <form action="/calculator/operator" method="post" style="display: inline;">
                <input type="hidden" name="operator" value="-">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn operator">-</button>
            </form>

            <!-- ÏÑ∏ Î≤àÏß∏ Ìñâ -->
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="4">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">4</button>
            </form>
            
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="5">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">5</button>
            </form>
            
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="6">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">6</button>
            </form>
            
            <form action="/calculator/operator" method="post" style="display: inline;">
                <input type="hidden" name="operator" value="+">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn operator">+</button>
            </form>

            <!-- ÎÑ§ Î≤àÏß∏ Ìñâ -->
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="1">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">1</button>
            </form>
            
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="2">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">2</button>
            </form>
            
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="3">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">3</button>
            </form>
            
            <form action="/calculator/operator" method="post" style="display: inline;">
                <input type="hidden" name="operator" value="%">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn operator">%</button>
            </form>

            <!-- Îã§ÏÑØ Î≤àÏß∏ Ìñâ -->
            <form action="/calculator/number" method="post" style="display: inline;">
                <input type="hidden" name="number" value="0">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">0</button>
            </form>
            
            <form action="/calculator/decimal" method="post" style="display: inline;">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn">.</button>
            </form>
            
            <form action="/calculator/calculate-advanced" method="post" style="display: inline;">
                <input type="hidden" name="currentInput" th:value="${currentInput}">
                <input type="hidden" name="expression" th:value="${expression}">
                <button type="submit" class="calc-btn equals">=</button>
            </form>
        </div>

        <div class="footer">
            <p>‚úÖ Java Î∞±ÏóîÎìú Ïó∞Îèô ÏôÑÎ£å</p>
        </div>
    </div>
</body>

</html>